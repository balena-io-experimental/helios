- commits:
    - subject: Cleanup main loop
      hash: dce5362ff809cf2d19a9a74148e489463d7abc89
      body: |
        This avoids nested looping and makes sure there is only one loop that
        can react to different events during the supervisor state
        poll/apply/report loop.
      footer:
        Change-type: patch
        change-type: patch
        Depends-on: balena-io-modules/mahler#36
        depends-on: balena-io-modules/mahler#36
      author: Felipe Lalanne
      nested: []
    - subject: Refactor code
      hash: 7be5de5e37256e2355997b73e7d67acdb6d4db0d
      body: |
        Moves commands implementation to `cmd/` directory and gets rid of some
        unused code.
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
    - subject: Wait for legacy update to settle before continuing poll loop
      hash: b98769110bda643e6fa1c78836d247491a5a98e7
      body: |
        The new supervisor and old supervisor cannot be applying target state
        at the same time. Once the state is applied by helios, it need to wait
        for the fallback update to finish before continuing.
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
    - subject: Set-up mahler
      hash: e6d7c7f44e1e5d87a55cdf8eff491956c3a8a40e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
  version: 0.2.5
  title: ""
  date: 2025-07-07T15:46:44.317Z
- commits:
    - subject: Remove unecessary module nesting
      hash: e4064d077a198e5004533e3000198a3e92fa5487
      body: |
        Also deletes unused files
      footer:
        Change-type: patch
        change-type: patch
      author: Akis Kesoglou
      nested: []
    - subject: Refactor Supervisor API server
      hash: 855a85a0a34e23217a6187d4278b674b776e1de5
      body: >
        - Dropped shared state

        - Simplified API server and fallback code to not know anything about
        each other
      footer:
        Change-type: patch
        change-type: patch
      author: Akis Kesoglou
      nested: []
  version: 0.2.4
  title: ""
  date: 2025-07-03T15:15:06.672Z
- commits:
    - subject: Refactor all fallback utils into its own module
      hash: 424bb2f8c610a44b880e968ef0ea5a3bfa3ce7fc
      body: |
        This removes the GlobalState (for now) and cleans up the API code
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
  version: 0.2.3
  title: ""
  date: 2025-07-01T01:44:42.399Z
- commits:
    - subject: Move caching fields from RequestState to Get struct
      hash: bb7ac8e84cbedfddfff8e8a858cb1a851160fe46
      body: >
        Move cached_state and etag fields from shared RequestState to Get struct

        since they are only used by GET requests for ETag-based caching:


        - Remove cached_state and etag from RequestState

        - Add cached_state and etag fields to Get struct

        - Rename cached_state to cached

        - Update Get::new() to initialize new caching fields

        - Update try_get() method to use local caching fields instead of
        RequestState


        This reduces memory usage for Patch instances and makes the separation

        of concerns clearer between generic request state and GET-specific
        caching.
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
    - subject: Simplify Patch struct to use blocking interface like Get
      hash: fca0683b882e4304fbaa608d15bf4458bf103a70
      body: |
        Replace background task architecture with synchronous blocking pattern:
        - Remove async background task spawning and channel communication
        - Make patch() method require &mut self and block until completion
        - Use same retry loop pattern as Get struct with try_patch()
        - Remove PatchRequest future type and PatchError::Incomplete variant
        - Update all tests to use new blocking .await pattern
        - Remove batching and request replacement behavior

        This simplifies the API and makes Patch consistent with Get behavior.
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
  version: 0.2.2
  title: ""
  date: 2025-06-30T23:26:57.584Z
- commits:
    - subject: Rename ghcr package to 'helios'
      hash: 5edae0feb86dac69b8769f537dad02b82d0a69b5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
  version: 0.2.1
  title: ""
  date: 2025-06-30T21:42:59.886Z
- commits:
    - subject: Bind to local port before starting poll
      hash: 0e2bf3328fc84d70c847e68990df4866e94a1407
      body: |
        This prevents triggering a poll if the supervisor local port
        is taken.
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
    - subject: Rename the project to Helios and update README
      hash: c20a62adf86bdf5a3c03edaf04dae5736d39b1ce
      body: |
        Do some additional configuration tweaks as well.
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
    - subject: Simplify the main service loop
      hash: 84152451f7a57859d7a95beaa99e70761adde795
      body: |
        This removes UpdateService and moves the target state handling
        behavior to the main loop for simplicity.
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
    - subject: Setup layered configuration approach
      hash: fa020ecdc89bc302beb4ae25564772437effabc6
      body: |
        Add layered configuration support, prioritizing command line arguments,
        then env vars then config.json in the system configuration
        directory, then defaults
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
    - subject: Handle /v1/update requests
      hash: a7b46d831c5f1795ecf757138eb5154da57040d0
      body: |
        The call now triggers a state poll and a subsequent notification to the
        fallback if defined
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
    - subject: Make remote api endpoint optional
      hash: 8793a589cd183ab80b91346bdba51aa7d80d98c6
      body: |
        No api endpoint is equivalent to unmanaged mode
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
    - subject: Make fallback address optional
      hash: fecb4ff1441044e5e57b3897201b49a3270ede85
      body: |
        Unsupported paths will return 404 if the fallback address is not defined
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
    - subject: Use Clap for parsing arguments and env vars
      hash: 08ab44de5bed9bc4fbef1521261ad12e9e493f41
      body: |
        This makes the binary more useful on its own without the need to run in
        a container.
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
  version: 0.2.0
  title: ""
  date: 2025-06-30T20:58:21.199Z
- commits:
    - subject: Add target state overrides system
      hash: 1a0f59afa629b820fb35eaa374cf6ea23b123da2
      body: |
        Implement app-specific configuration overrides that read `override.json`
        files from /mnt/temp/apps/{app-uuid}/ and apply them to target state.
        Includes comprehensive test coverage and dependency injection for
        file system operations.
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
    - subject: Implement target state caching and interception in proxy
      hash: b2b5b3c79d0e8d10ea8d34116bae3255439bdea2
      body: |
        Intercept /v3/device/{uuid}/state requests from legacy supervisor
        and serve from locally cached target state instead of proxying
        to remote API. Returns 503 with Retry-After: 15 when no target
        state is cached yet.
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
    - subject: Add uplink service for target state polling
      hash: 2ac811d6f4f1317b52e2cc9f4d06d9b3aaebd9d9
      body: >
        Implement UplinkService that polls target state from the API and
        notifies

        subscribers of changes. Includes jitter for load balancing, manual fetch

        triggers, and comprehensive error handling.


        - Add rand dependency for jitter calculation

        - Create link module with uplink service implementation

        - Add max_jitter_delay_ms configuration option

        - Integrate uplink service into main application flow

        - Add extensive test coverage for polling, updates, and error scenarios
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
    - subject: Add HTTP client functionality
      hash: 264165166132c8d6a109aa95932bde219f426144
      body: |
        Introduce new request module with comprehensive HTTP client
        capabilities including GET/POST methods, JSON handling,
        error management, and timeout configuration. Add reqwest
        and related networking dependencies to support external
        API communication and data fetching operations.
      footer:
        Change-type: minor
        change-type: minor
      author: Felipe Lalanne
      nested: []
    - subject: Refactor configuration
      hash: 7512d558497e9bce0da3dcdfd305ee3e6e13169c
      body: |
        Add some configuration variables and organize the Config type in
        preparation for adding target state poll feature.
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
  version: 0.1.0
  title: ""
  date: 2025-06-26T02:38:50.602Z
- commits:
    - subject: Refactor code and rename repository
      hash: 4f5bb07536d91a12c7fe5f7aa453c6c6efe60a92
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
  version: 0.0.3
  title: ""
  date: 2025-06-16T22:10:30.474Z
- commits:
    - subject: Setup flowzone
      hash: dc1a1b5ae91e36122d66867c0e5e127a2e2d04cf
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Felipe Lalanne
      nested: []
  version: 0.0.2
  title: ""
  date: 2025-06-16T17:37:45.938Z
